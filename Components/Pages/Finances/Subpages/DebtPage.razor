@page "/finances/debts"
@using Hearth.Data
@using Hearth.Models
@using Hearth.Models.CTO
@using Hearth.Services
@using Hearth.Icons
@using Hearth.Finances.Parts
@using ApexCharts
@inject HearthDbContext _dbContext

<main class="debt-main">
	<section class="debt-section-1">
		<div class="d-s1-grid-container">
			@* Mortgage *@
			<div class="d-s1-panel panel-hearth" style="grid-area: mt">
				<LoanPanel Loans="@mortgages"/>
			</div>
			@* Car Loan *@
			<div class="d-s1-panel panel-hearth" style="grid-area: cl">
				<LoanPanel />
			</div>
			@* Other Loan 1 *@
			<div class="d-s1-panel panel-hearth" style="grid-area: o1">
				o1
			</div>
			<div class="d-s1-panel panel-hearth" style="grid-area: o2">
				o2
			</div>
			@* Payments *@
			<div class="d-s1-panel" style="grid-area: pm">
				pm
			</div>
			@* Loan Graph *@
			<div class="d-s2-panel" style="grid-area: grph">
				grph
			</div>
		</div>
	</section>
</main>

@code {
	private List<Loan> mortgages = new List<Loan>();
	private List<Loan> carLoans = new List<Loan>();
	private List<Loan> otherLoans = new List<Loan>();


	protected override async Task OnInitializedAsync()
	{
		mortgages = _dbContext.Loans
			.Where(m => m.Loan_Type == LOAN_TYPE.Mortgage)
			.ToList();

	}
}

